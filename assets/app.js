var app=angular.module("app",[]);angular.module("app").controller("PostsCtrl",["$scope","$http","PostsSvc",function(t,o,s){t.addPost=function(){t.postBody&&s.create({username:"paolo s.",body:t.postBody}).success(function(o){t.posts.unshift(o),t.postBody=null})},t.deletePost=function(t){null!=t._id&&s.delete({post:t}).success(function(t){console.log("ok delete")})},s.fetch().success(function(o){t.posts=o})}]),angular.module("app").service("PostsSvc",["$http",function(t){this.fetch=function(){return t.get("/api/posts")},this.create=function(o){return t.post("/api/posts",o)},this.delete=function(o){return t.delete("/api/posts",o)}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImNvbnRyb2xsZXIuanMiLCJzZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiJGh0dHAiLCJQb3N0c1N2YyIsImFkZFBvc3QiLCJwb3N0Qm9keSIsImNyZWF0ZSIsInVzZXJuYW1lIiwiYm9keSIsInN1Y2Nlc3MiLCJwb3N0IiwicG9zdHMiLCJ1bnNoaWZ0IiwiZGVsZXRlUG9zdCIsIl9pZCIsImRlbGV0ZSIsImNvbnNvbGUiLCJsb2ciLCJmZXRjaCIsInNlcnZpY2UiLCJ0aGlzIiwiZ2V0Il0sIm1hcHBpbmdzIjoiQUFBQSxHQUFBQSxLQUFBQyxRQUFBQyxPQUFBLFNDQUFELFNBQUFDLE9BQUEsT0FBQUMsV0FBQSxhQUFBLFNBQUEsUUFBQSxXQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0FGLEVBQUFHLFFBQUEsV0FDQUgsRUFBQUksVUFDQUYsRUFBQUcsUUFDQUMsU0FBQSxXQUNBQyxLQUFBUCxFQUFBSSxXQUNBSSxRQUFBLFNBQUFDLEdBQ0FULEVBQUFVLE1BQUFDLFFBQUFGLEdBQ0FULEVBQUFJLFNBQUEsUUFLQUosRUFBQVksV0FBQSxTQUFBSCxHQUNBLE1BQUFBLEVBQUFJLEtBQ0FYLEVBQUFZLFFBQ0FMLEtBQUFBLElBQ0FELFFBQUEsU0FBQUMsR0FDQU0sUUFBQUMsSUFBQSxnQkFLQWQsRUFBQWUsUUFBQVQsUUFBQSxTQUFBRSxHQUNBVixFQUFBVSxNQUFBQSxPQ3hCQWIsUUFBQUMsT0FBQSxPQUFBb0IsUUFBQSxZQUFBLFFBQUEsU0FBQWpCLEdBRUFrQixLQUFBRixNQUFBLFdBQ0EsTUFBQWhCLEdBQUFtQixJQUFBLGVBRUFELEtBQUFkLE9BQUEsU0FBQUksR0FDQSxNQUFBUixHQUFBUSxLQUFBLGFBQUFBLElBRUFVLEtBQUFMLE9BQUEsU0FBQUwsR0FDQSxNQUFBUixHQUFBYSxPQUFBLGFBQUFMIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJywgW10pXHJcblxyXG5cclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmNvbnRyb2xsZXIoJ1Bvc3RzQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCBQb3N0c1N2Yykge1xyXG4gICAgJHNjb3BlLmFkZFBvc3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCRzY29wZS5wb3N0Qm9keSkge1xyXG4gICAgICAgICAgICBQb3N0c1N2Yy5jcmVhdGUoe1xyXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6ICdwYW9sbyBzLicsXHJcbiAgICAgICAgICAgICAgICBib2R5OiAkc2NvcGUucG9zdEJvZHlcclxuICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAocG9zdCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnBvc3RzLnVuc2hpZnQocG9zdClcclxuICAgICAgICAgICAgICAgICRzY29wZS5wb3N0Qm9keSA9IG51bGxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJHNjb3BlLmRlbGV0ZVBvc3QgPSBmdW5jdGlvbiAocG9zdCkge1xyXG4gICAgICAgIGlmIChwb3N0Ll9pZCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIFBvc3RzU3ZjLmRlbGV0ZSh7XHJcbiAgICAgICAgICAgICAgICBwb3N0OiBwb3N0XHJcbiAgICAgICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKHBvc3QpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvayBkZWxldGUnKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgUG9zdHNTdmMuZmV0Y2goKS5zdWNjZXNzKGZ1bmN0aW9uIChwb3N0cykge1xyXG4gICAgICAgICRzY29wZS5wb3N0cyA9IHBvc3RzXHJcbiAgICB9KVxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKS5zZXJ2aWNlKCdQb3N0c1N2YycsICBmdW5jdGlvbiAoJGh0dHApIHtcclxuXHJcbiAgICB0aGlzLmZldGNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcG9zdHMnKVxyXG4gICAgfVxyXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbiAocG9zdCkge1xyXG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3Bvc3RzJywgcG9zdClcclxuICAgIH1cclxuICAgIHRoaXMuZGVsZXRlID0gZnVuY3Rpb24gKHBvc3QpIHtcclxuICAgICAgICByZXR1cm4gJGh0dHAuZGVsZXRlKCcvYXBpL3Bvc3RzJywgcG9zdClcclxuICAgIH1cclxufSlcclxuIl19
