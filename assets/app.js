var app=angular.module("app",[]);angular.module("app").controller("PostsCtrl",["$scope","$http","PostsSvc",function(t,o,s){t.addPost=function(){t.postBody&&s.create({username:"paolo s.",body:t.postBody}).success(function(o){t.posts.unshift(o),t.postBody=null})},t.deletePost=function(t){null!=t._id&&s.delete({post:t}).success(function(t){console.log("ok delete")})},s.fetch().success(function(o){t.posts=o})}]),angular.module("app").service("PostsSvc",["$http",function(t){this.fetch=function(){return t.get("/api/posts")},this.create=function(o){return t.post("/api/posts",o)},this.delete=function(o){return t.delete("/api/posts",o)}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImNvbnRyb2xsZXIvY29udHJvbGxlci5qcyIsInNlcnZpY2Uvc2VydmljZS5qcyJdLCJuYW1lcyI6WyJhcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRodHRwIiwiUG9zdHNTdmMiLCJhZGRQb3N0IiwicG9zdEJvZHkiLCJjcmVhdGUiLCJ1c2VybmFtZSIsImJvZHkiLCJzdWNjZXNzIiwicG9zdCIsInBvc3RzIiwidW5zaGlmdCIsImRlbGV0ZVBvc3QiLCJfaWQiLCJkZWxldGUiLCJjb25zb2xlIiwibG9nIiwiZmV0Y2giLCJzZXJ2aWNlIiwidGhpcyIsImdldCJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBQUEsS0FBQUMsUUFBQUMsT0FBQSxTQ0FBRCxTQUFBQyxPQUFBLE9BQUFDLFdBQUEsYUFBQSxTQUFBLFFBQUEsV0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUNBRixFQUFBRyxRQUFBLFdBQ0FILEVBQUFJLFVBQ0FGLEVBQUFHLFFBQ0FDLFNBQUEsV0FDQUMsS0FBQVAsRUFBQUksV0FDQUksUUFBQSxTQUFBQyxHQUNBVCxFQUFBVSxNQUFBQyxRQUFBRixHQUNBVCxFQUFBSSxTQUFBLFFBS0FKLEVBQUFZLFdBQUEsU0FBQUgsR0FDQSxNQUFBQSxFQUFBSSxLQUNBWCxFQUFBWSxRQUNBTCxLQUFBQSxJQUNBRCxRQUFBLFNBQUFDLEdBQ0FNLFFBQUFDLElBQUEsZ0JBS0FkLEVBQUFlLFFBQUFULFFBQUEsU0FBQUUsR0FDQVYsRUFBQVUsTUFBQUEsT0N4QkFiLFFBQUFDLE9BQUEsT0FBQW9CLFFBQUEsWUFBQSxRQUFBLFNBQUFqQixHQUVBa0IsS0FBQUYsTUFBQSxXQUNBLE1BQUFoQixHQUFBbUIsSUFBQSxlQUVBRCxLQUFBZCxPQUFBLFNBQUFJLEdBQ0EsTUFBQVIsR0FBQVEsS0FBQSxhQUFBQSxJQUVBVSxLQUFBTCxPQUFBLFNBQUFMLEdBQ0EsTUFBQVIsR0FBQWEsT0FBQSxhQUFBTCIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFtdKSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb250cm9sbGVyKCdQb3N0c0N0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgUG9zdHNTdmMpIHtcclxuICAgICRzY29wZS5hZGRQb3N0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkc2NvcGUucG9zdEJvZHkpIHtcclxuICAgICAgICAgICAgUG9zdHNTdmMuY3JlYXRlKHtcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAncGFvbG8gcy4nLFxyXG4gICAgICAgICAgICAgICAgYm9keTogJHNjb3BlLnBvc3RCb2R5XHJcbiAgICAgICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKHBvc3QpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5wb3N0cy51bnNoaWZ0KHBvc3QpXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucG9zdEJvZHkgPSBudWxsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICRzY29wZS5kZWxldGVQb3N0ID0gZnVuY3Rpb24gKHBvc3QpIHtcclxuICAgICAgICBpZiAocG9zdC5faWQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBQb3N0c1N2Yy5kZWxldGUoe1xyXG4gICAgICAgICAgICAgICAgcG9zdDogcG9zdFxyXG4gICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChwb3N0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnb2sgZGVsZXRlJyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFBvc3RzU3ZjLmZldGNoKCkuc3VjY2VzcyhmdW5jdGlvbiAocG9zdHMpIHtcclxuICAgICAgICAkc2NvcGUucG9zdHMgPSBwb3N0c1xyXG4gICAgfSlcclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJykuc2VydmljZSgnUG9zdHNTdmMnLCAgZnVuY3Rpb24gKCRodHRwKSB7XHJcblxyXG4gICAgdGhpcy5mZXRjaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Bvc3RzJylcclxuICAgIH1cclxuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24gKHBvc3QpIHtcclxuICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9wb3N0cycsIHBvc3QpXHJcbiAgICB9XHJcbiAgICB0aGlzLmRlbGV0ZSA9IGZ1bmN0aW9uIChwb3N0KSB7XHJcbiAgICAgICAgcmV0dXJuICRodHRwLmRlbGV0ZSgnL2FwaS9wb3N0cycsIHBvc3QpXHJcbiAgICB9XHJcbn0pXHJcbiJdfQ==
